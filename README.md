# 🛍️ Aurist – Yeni Nesil Dijital Alışveriş Platformu (ASP.NET Core Web API + iOS/SwiftUI Client)

A full‑stack demo for an e‑commerce experience. This repository contains:

- **Backend**: ASP.NET Core **.NET 9** Web API with Entity Framework Core (MySQL), ASP.NET Identity, JWT auth, Google Sign‑In, Swagger, and clean separation via Services/Repositories.
- **iOS Client**: SwiftUI app using MVVM, Alamofire, Google Sign‑In, and Firebase (for Google auth helper).

> This README is auto‑generated by inspecting the codebase you shared. If something looks off, adjust as needed.

---

## Monorepo Structure

```
/ecommerce_webApi         # ASP.NET Core Web API (.NET 9)
/ecommerce_github         # iOS SwiftUI app (Xcode project)
```

---

## Tech Stack

### Backend
- **.NET**: net9.0
- **EF Core**: Pomelo.EntityFrameworkCore.MySql (EF Core 9 preview)
- **Auth**: ASP.NET Identity, **JWT Bearer**, optional **Google** OAuth
- **Docs**: Swagger (Swashbuckle)
- **Other**: AutoMapper, Email (SMTP)

### iOS
- **Language/UI**: Swift, **SwiftUI**, MVVM
- **Networking**: **Alamofire**
- **Auth**: GoogleSignIn (+ Firebase core)
- **UI Utils**: ExyteGrid, ACarousel, Sliders
- **iOS Target**: (open Xcode project to confirm, typical iOS 16+)

---

## Backend (ASP.NET Core) – Quick Start

### Prerequisites
- .NET 9 SDK
- MySQL 8.x (or MariaDB compatible)
- (Optional) Google OAuth credentials
- SMTP account (for password reset emails)

### Configuration
Create or edit `ecommerce_webApi/appsettings.Development.json` (or `appsettings.json`) with:

```jsonc
{
  "ConnectionStrings": {
    "DefaultConnection": "server=localhost;database=ecommerce_app;user=app;password=secret;"
  },
  "JWT": {
    "Issuer": "your-issuer",
    "Audience": "your-audience",
    "SigningKey": "super-secret-signing-key-256bits"
  },
  "Google": {
    "ClientId": "your-google-client-id.apps.googleusercontent.com",
    "ClientSecret": "your-google-client-secret"
  },
  "EmailSettings": {
    "SmtpServer": "smtp.example.com",
    "Port": 587,
    "FromEmail": "no-reply@example.com",
    "Password": "smtp-password"
  }
}
```

> Keys discovered from `Program.cs` and services: `ConnectionStrings:DefaultConnection`, `JWT:Issuer|Audience|SigningKey`, `Google:ClientId|ClientSecret`, `EmailSettings:SmtpServer|Port|FromEmail|Password`.

### Database & Migrations
```bash
cd ecommerce_webApi/ecommerce_webApi
dotnet restore
dotnet ef database update
dotnet run
```
- EF migrations exist under `Migrations/` (e.g., `20250816_InitialDatabase`, `20250817_AddDataDatabase`).

### Swagger
When running in `Development`, Swagger UI is enabled at:
```
https://localhost:5001/swagger
```

### Project Highlights
- `Entities/`: `Product`, `Category`, `Order`, `Review`, `Promo`, `Slider`, `AppUser`
- `Services/`: business logic (`ProductService`, `CategoryService`, `OrderService`, `ReviewService`, `SliderService`, `EmailService`, `TokenService`, `JwtTokenService`)
- `Repositories/`: data access per aggregate
- `Controllers/`: REST endpoints

### REST API (Summary)

> Base prefix per controller: `api/[controller]`

**AccountController (`api/account`)**
- `POST api/account/register`
- `POST api/account/login`
- `GET  api/account/validate` (JWT check)
- `POST api/account/google-token-login`
- `POST api/account/forgot-password`
- `POST api/account/reset-password`
- `GET  api/account/me` (auth required)
- `GET  api/account/myInformation` (auth)
- `PUT  api/account/myInformation` (auth)
- `POST api/account/change-password` (auth)
- `POST api/account/change-password-by-id` (Admin)

**ProductController (`api/product`)**
- `GET  api/product` (list all)
- `GET  api/product/{id}` (get by id)
- (Add more here if you implement Create/Update/Delete.)

**CategoryController (`api/category`)**
- `GET  api/category` (list all)
- `GET  api/category/{id}`

**OrderController (`api/order`)**
- `GET  api/order/{customerId}`
- `POST api/order` (place order)

**ReviewController (`api/review`)**
- `GET  api/review`
- `GET  api/review/{productId}`
- `GET  api/review/customer/{customerId}`
- `POST api/review`
- `DELETE api/review/{productId}/{date}`

**PromoController (`api/promo`)**
- `GET  api/promo`

**SliderController (`api/slider`)**
- `GET  api/slider`

> Tip: Run the project and open Swagger to see all models/schemas and try out the endpoints.

### Data Models (excerpt)

`Product` (see `Entities/Product.cs`)
- `id: int`
- `product_name: string`
- `product_price: double`
- `product_detail?: string`
- `product_isActive: bool`
- `product_tag?: string`
- `product_tagColor?: string`
- `product_image: string` (+ likely `images` and `colors` collections in code)

`Category` (see `Entities/Category.cs`): `id`, `category_name`, `category_url`, `category_image?`, `category_isHome?`, `products?`

…and others: `Order`, `Review`, `Promo`, `Slider`, `AppUser` (Identity user).

---

## iOS Client (SwiftUI) – Quick Start

### Prerequisites
- Xcode 15+
- iOS 16+ device/simulator
- Swift Package Manager will resolve: `Alamofire`, `GoogleSignIn`, `FirebaseCore`, `ExyteGrid`, `ACarousel`, `Sliders`

### Configure API Base URL
The app currently **hard‑codes** the backend URL (e.g. `http://192.168.1.131:4200`). Search & replace with your server:

Files containing URLs include (sample):  
`ViewModel/LoginViewModel.swift`, `ProfileViewModel.swift`, `ShopViewModel.swift`, `ReviewViewModel.swift`, etc.

> **Recommendation:** Create a `Config.swift` with a single `static let baseUrl = "https://your-domain/api"` and centralize all endpoints.

### Google Sign‑In / Firebase
The project includes `GoogleService-Info.plist` and uses `GoogleSignIn` + `FirebaseCore`.  
Ensure your bundle ID and Google OAuth client are set up correctly. Replace the provided plist with your own if needed.

### Build & Run
1. Open `ecommerce_github/ecommerce_github/ecommerce_swift.xcodeproj` in Xcode.
2. Wait for SPM dependencies to resolve.
3. Update base API URL(s).
4. Run on simulator or device.

### App Features (from code)
- Home, Category, Product detail, Cart, Favorites, Orders, Profile
- Auth flows: Register, Email/Password Login, **Google** login
- Password reset (via backend email service)
- Product reviews (list, write, delete)
- Banners/Sliders
- Address & Payment screens (UI present; wire up endpoints as needed)

---

## Development Tips

- **Environments**: Use `appsettings.Development.json` for local settings; never commit secrets.
- **CORS**: If you access the API from a different host, enable CORS in `Program.cs`.
- **Migrations**: After changing entities, run `dotnet ef migrations add <Name>` then `dotnet ef database update`.
- **Seeding**: There’s a migration named `AddDataDatabase` — check it for seed data patterns.
- **JWT**: Token validation in `Program.cs` uses `JWT:Issuer|Audience|SigningKey`. Keep the key at least 256 bits.

---

## Scripts & Commands

```bash
# Backend
cd ecommerce_webApi/ecommerce_webApi
dotnet restore
dotnet run

# Create migration
dotnet ef migrations add Init
dotnet ef database update
```

---

## Roadmap / TODO

- Centralize iOS **API base URL** (remove hard‑coded IPs)
- Add create/update/delete endpoints for products/categories (if desired)
- Add rate‑limiting & request validation
- Add unit tests (xUnit) and UI tests for iOS
- Containerize backend with Docker
- CI/CD: GitHub Actions for API & iOS build checks

---



## Screenshots
<img width="972" height="1232" alt="Screenshot 2025-08-25 at 15 07 07" src="https://github.com/user-attachments/assets/b597b7bb-e5fd-42b9-9223-7adbd46b95f2" />

![aurist1](https://github.com/user-attachments/assets/958fa5fd-a36c-421e-a267-6c4a1cb513ac)

